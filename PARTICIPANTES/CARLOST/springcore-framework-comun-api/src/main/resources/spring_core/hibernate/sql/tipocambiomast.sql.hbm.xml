<?xml version="1.0" encoding="UTF-8"?>
<!--
 *
 * @author : desarrollo
 * @powerbuilder : core.Tipocambiomast
-->
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <sql-query name="tipocambiomast.obtenerDto">
         select 
			MonedaCodigo "monedacodigo"
			,MonedaCambioCodigo "monedacambiocodigo"
			,FechaCambio "fechacambio"
			,FechaCambioString "fechacambiostring"
			,cast(FactorCompra as varchar) "factorcompra2"
			,cast(FactorVenta  as varchar)"factorventa2"
			,cast(FactorPromedio  as varchar) "factorpromedio2"
			,cast(Estado as varchar) "estado"
			,UltimaFechaModif "ultimafechamodif"
			,UltimoUsuario "ultimousuario"
			,cast(FactorCompraSBS as varchar) "factorcomprasbs2"
			,cast(FactorVentaSBS as varchar) "factorventasbs2"

         from TIPOCAMBIOMAST
         where 
         ( TipoCambioMast.MonedaCodigo = 'EX' ) AND  
         ( TipoCambioMast.MonedaCambioCodigo = 'LO' ) AND  
         ( TipoCambioMast.fechacambiostring = :p_fechacambio )    
         

    </sql-query>

    <sql-query name="tipocambiomast.listarPaginadoContar">
         select count(1)
         from TIPOCAMBIOMAST
         where 
			( TipoCambioMast.FechaCambioString >= :p_fechacambio) 
	
    </sql-query>

    <sql-query name="tipocambiomast.listarPaginadoSentencia">
         select 
			TipoCambioMast.MonedaCodigo  "monedacodigo"
			,TipoCambioMast.MonedaCambioCodigo   "monedacambiocodigo"
			,TipoCambioMast.FechaCambio   "fechacambio"
			,TipoCambioMast.FechaCambioString  "fechacambiostring"
			,cast(TipoCambioMast.FactorCompra as varchar)  "factorcompra2"
			,cast(TipoCambioMast.FactorVenta  as varchar)  "factorventa2"
			,cast(TipoCambioMast.FactorPromedio  as varchar)  "factorpromedio2"
			,cast(TipoCambioMast.Estado as varchar(1))   "estado"
			,case when cast(TipoCambioMast.Estado as varchar(1)) = 'A' THEN 'Activo' else
			'Inactivo' end  "estadodescripcion" 
			,convert(varchar(10), TipoCambioMast.fechacambio, 103)  "fechacambiodescripcion"
         from TIPOCAMBIOMAST
         where 
			( TipoCambioMast.FechaCambioString >= :p_fechacambio) 

order by FechaCambio desc
    </sql-query>

    <sql-query name="tipocambiomast.listarDtoCore">
         select 
			MonedaCodigo "monedacodigo"
			,MonedaCambioCodigo "monedacambiocodigo"
			,FechaCambio "fechacambio"
			,FechaCambioString "fechacambiostring"
			,Factor "factor"
			,FactorCompra "factorcompra"
			,FactorVenta "factorventa"
			,FactorPromedio "factorpromedio"
			,FactorCompraAfp "factorcompraafp"
			,FactorVentaAfp "factorventaafp"
			,FactorCompraSBS "factorcomprasbs"
			,FactorVentaSBS "factorventasbs"
			,ValorCuota "valorcuota"
			,Estado "estado"
			,UltimaFechaModif "ultimafechamodif"
			,UltimoUsuario "ultimousuario"
			,TasaTamex "tasatamex"
			,TasaTamn "tasatamn"
			,TasaAnualTAMEX "tasaanualtamex"
			,TasaAnualTAMN "tasaanualtamn"

         from TIPOCAMBIOMAST
         where 
			MonedaCodigo = ISNULL(:p_monedacodigo, MonedaCodigo)
			AND MonedaCambioCodigo = ISNULL(:p_monedacambiocodigo, MonedaCambioCodigo)
			AND FechaCambio = ISNULL(:p_fechacambio, FechaCambio)
			MonedaCodigo = ISNULL(:p_monedacodigo, MonedaCodigo)
			AND MonedaCambioCodigo = ISNULL(:p_monedacambiocodigo, MonedaCambioCodigo)
			AND FechaCambio = ISNULL(:p_fechacambio, FechaCambio)

    </sql-query>

    <sql-query name="tipocambiomast.listar">
         select 
             'codigo' AS "codigo"
             ,'nombre' AS "nombre"
             ,'estadoid' AS "estadoId"
         from dual
    </sql-query>

    <sql-query name="tipocambiomast.listarActivos">
         select 
             'codigo' AS "codigo"
             ,'nombre' AS "nombre"
             ,'estadoid' AS "estadoId"
         from dual
    </sql-query>

</hibernate-mapping>
