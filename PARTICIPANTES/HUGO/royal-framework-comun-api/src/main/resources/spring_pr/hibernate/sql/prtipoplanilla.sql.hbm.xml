<?xml version="1.0" encoding="UTF-8"?>
<!--
 *
 * @author : desarrollo
 * @powerbuilder : prtipoplanilla
-->
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    
    <sql-query name="prtipoplanilla.listar">
    	select TipoPlanilla as "codigo", Descripcion as "nombre"
    			,estado as "estadoId" 
    	from PR_TipoPlanilla
  	</sql-query>
	
	<sql-query name="prtipoplanilla.listarActivos">
    	select TipoPlanilla as "codigo", Descripcion as "nombre"
    	from PR_TipoPlanilla where Estado = 'A'
  	</sql-query>
  
  <sql-query name="prtipoplanilla.listarActivosPorSeguridad">	
  	SELECT 
		PR_TipoPlanilla.TipoPlanilla as "codigo",   
		PR_TipoPlanilla.Descripcion as "nombre"   
	FROM 
		PR_TipoPlanilla  
	WHERE 
		( PR_TipoPlanilla.Estado = 'A' ) and
		(
		( PR_TipoPlanilla.TipoPlanilla in ( :p_tipoplanilla ) ) OR  
		( :p_allTiposdePlanilla = 'S' )   
		)
	ORDER BY 
	PR_TipoPlanilla.Descripcion ASC   
	</sql-query>
  	
  	<sql-query name="prtipoplanilla.listarfiltros">
    	select 
		RTRIM(TipoPlanilla) AS "codigo", 
		RTRIM(Descripcion) AS "descripcion" 
		from 
		PR_TipoPlanilla 
		where Estado = 'A' 
		AND TipoPlanilla = ISNULL(:p_tipoplanilla, TipoPlanilla)
		AND Descripcion LIKE '%' +ISNULL(:p_descripcion, '')+ '%'
		ORDER BY 2
  	</sql-query>
    
</hibernate-mapping>
