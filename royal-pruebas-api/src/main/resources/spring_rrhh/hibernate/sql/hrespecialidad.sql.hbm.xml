<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<sql-query name="hrespecialidad.listar">
		SELECT 
		E.especialidad AS "especialidad",
		E.descripcion AS "descripcion",
		E.ultimoUsuario AS "ultimoUsuario",
		E.ultimaFechaModif AS "ultimaFechaModif",
		E.unidadReplicacion AS "unidadReplicacion",
		cast(E.estado as varchar(1)) AS "estado"
		FROM HR_Especialidad E
	</sql-query>
	
	<sql-query name="hrespecialidad.generarCodigo">
		SELECT 
		CAST((ISNULL(MAX(Especialidad)+1, 0)) AS VARCHAR(6)) AS 'codigo' 
		from dbo.HR_Especialidad
	</sql-query>
	
	<sql-query name="hrespecialidad.obtenerDto">
		select
		E.especialidad AS "especialidad",
		E.descripcion AS "descripcion",
		E.ultimoUsuario AS "ultimoUsuario",
		E.ultimaFechaModif AS "ultimaFechaModif",
		E.unidadReplicacion AS "unidadReplicacion",
		cast(E.estado as varchar(1)) AS "estado"
		from dbo.HR_Especialidad E
		where E.especialidad = :p_especialidad
	</sql-query>
</hibernate-mapping>